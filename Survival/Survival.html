<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"
<head>
	<title>Project Passage - Survival</title>
	<link rel="shortcut icon" href="..\favicon.ico" />
	<meta name="google" content="notranslate">
	<!--Google Analytics-->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-160710856-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-160710856-1');
	</script>
	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-160710856-1', 'auto');
	ga('require', 'GTM-NWTHXJN');
	ga('send', 'pageview');
	</script>
	<!-- End Google Analytics -->
	<!-- Anti-flicker snippet -->
	<style>.async-hide { opacity: 0 !important} </style>
	<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
	h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
	(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
	})(window,document.documentElement,'async-hide','dataLayer',4000,
	{'UA-160710856-1':true});</script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<link href="SurvivalTheme.css" rel="stylesheet" type="text/css">
	<script language="javascript" type="text/javascript" src="..\js\Onload.js"></script>
	<script type="text/javascript" src="Scenarios.js"></script>
</head>

<header>
	<a href="..\index.html" class="navigation" style="float: left"><i class="material-icons-outlined" style="color: #FFFFFF">home</i></a>
	<a onClick="location.reload();" class="navigation" style="float: right"><i class="material-icons-outlined" style="color: #FFFFFF">refresh</i></a>
	<br><h1 class="project">Project</h1>
	<h1 class="passage">Passage</h1><br>
<body>
	<p class="scenario shadow" id="scenario-text"></p>
	<p class="reply shadow" id="reply-text"></p>
	<p class="hp shadow" id="hp-text"></p>
	<h3><button id="ButtonOne" type="button" class="btn btn-outline-secondary shadow" onClick="reply1()"></button></h3>
	<h3><button id="ButtonTwo" type="button" class="btn btn-outline-secondary shadow" onClick="reply2()"></button></h3>
	<h3><button id="ButtonThree" type="button" class="btn btn-outline-secondary shadow" onClick="reply3()"></button></h3>
	<h3><button id="ButtonFour" type="button" class="btn btn-outline-danger shadow" onClick="next_scenario()">Continue</button></h3>
	<h3><button id="ButtonFive" type="button" class="btn btn-outline-success shadow" onClick="location.reload();">Retry</button></h3>
	<script>
    var sc = 0;
	var hp = 100;
	
	//Randomiser
	var i = scenarios.length, k , temp;
	while(--i > 0){
    k = Math.floor(Math.random() * (i+1));
    temp = scenarios[k];
    scenarios[k] = scenarios[i];
    scenarios[i] = temp;
	}
    text();
	
	//Text
    function text() {
        $("#scenario-text").html(scenarios[sc].scenario);
		$("#ButtonOne").html(scenarios[sc].answer1);
		$("#ButtonTwo").html(scenarios[sc].answer2);
		$("#ButtonThree").html(scenarios[sc].answer3);
		if(hp >=0){
		$("#hp-text").html("HP: " + hp);
		}
		if(hp < 0){
		$("#hp-text").html("HP: 0");
		}
		if(hp <= 0 || sc == 15){
			if(sc == 15){
			$("#scenario-text").html("You finally reached your destination - a shop. You bought some eggs and some bread. Welp time to go home... To go to the main menu, press \"Continue\".");
			}
			if(hp <= 0){
			$("#scenario-text").html("You have died. To go to the main menu, press \"Continue\".");
			}
			$("#ButtonOne").hide();
			$("#ButtonTwo").hide();
			$("#ButtonThree").hide();
			$("#ButtonFour").prop('disabled', false);
			$("#ButtonFive").show();
		}
    }
	
	//Replies
	function reply1() {
		$("#reply-text").html(scenarios[sc].reply1);
		$("#reply-text").show();
		$("#ButtonFour").prop('disabled', false);
		$("#ButtonTwo").prop('disabled', true);
		$("#ButtonThree").prop('disabled', true);
		hp = hp - scenarios[sc].damage1;
	}
	function reply2() {
		$("#reply-text").html(scenarios[sc].reply2);
		$("#reply-text").show();
		$("#ButtonFour").prop('disabled', false);
		$("#ButtonOne").prop('disabled', true);
		$("#ButtonThree").prop('disabled', true);
		hp = hp - scenarios[sc].damage2;
	}
	function reply3() {
		$("#reply-text").html(scenarios[sc].reply3);
		$("#reply-text").show();
		$("#ButtonFour").prop('disabled', false);
		$("#ButtonOne").prop('disabled', true);
		$("#ButtonTwo").prop('disabled', true);
		hp = hp - scenarios[sc].damage3;
	}
	
	//Next scenario
    function next_scenario(mult) {
		if(hp <= 0 || sc == 15){
			window.history.back();
		}
        sc++;
		$("#reply-text").hide();
		$("#ButtonOne").prop('disabled', false);
		$("#ButtonTwo").prop('disabled', false);
		$("#ButtonThree").prop('disabled', false);
		$("#ButtonFour").prop('disabled', true);
        text();
    }
</script>
</body>
</html>