<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"
<head>
	<title>Project Passage - Survival</title>
	<meta name="google" content="notranslate">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link href="..\css\Theme.css" rel="stylesheet" type="text/css">
	<link href="SurvivalTheme.css" rel="stylesheet" type="text/css">
	<script language="javascript" type="text/javascript" src="..\js\Onload.js"></script>
	<script type="text/javascript" src="Scenarios.js"></script>
</head>

<header>
	<a href="..\index.html" class="navigation" style="float: left"><i class="material-icons-outlined" style="color: #FFFFFF">home</i></a>
	<a onClick="location.reload();" class="navigation" style="float: right"><i class="material-icons-outlined" style="color: #FFFFFF">refresh</i></a>
	<br><h1 class="project">Project</h1>
	<h1 class="passage">Passage</h1><br>
<body>
	<p class="scenario shadow" id="scenario-text"></p>
	<p class="reply shadow" id="reply-text"></p>
	<p class="score shadow" id="score-text"></p>
	<h3><button id="ButtonOne" type="button" class="btn btn-outline-secondary shadow" onClick="reply1()">Answer 1</button></h3>
	<h3><button id="ButtonTwo" type="button" class="btn btn-outline-secondary shadow" onClick="reply2()">Answer 2</button></h3>
	<h3><button id="ButtonThree" type="button" class="btn btn-outline-secondary shadow" onClick="reply3()">Answer 3</button></h3>
	<h3><button id="ButtonFour" type="button" class="btn btn-outline-danger shadow" onClick="next_scenario()">Continue</button></h3>
	<h3><button id="ButtonFive" type="button" class="btn btn-outline-success shadow" onClick="location.reload();">Retry</button></h3>
	<script>
    var sc = 0;
	var death = 0;
	var score = 0;
	
	//Randomiser
	var i = scenarios.length, k , temp;
	while(--i > 0){
    k = Math.floor(Math.random() * (i+1));
    temp = scenarios[k];
    scenarios[k] = scenarios[i];
    scenarios[i] = temp;
	}
    text();
	
	//Text
    function text() {
        document.getElementById("scenario-text").innerHTML = scenarios[sc].scenario;
		document.getElementById("score-text").innerHTML = "Score: " + score;
		if(death == 1){
			document.getElementById("scenario-text").innerHTML = "You have died. To go to the main menu, press \"Continue\".";
			document.getElementById("ButtonOne").style.display = "none";
			document.getElementById("ButtonTwo").style.display = "none";
			document.getElementById("ButtonThree").style.display = "none";
			document.getElementById("ButtonFour").disabled = false;
			document.getElementById("ButtonFive").style.display = "initial";
			death = 2;
		}
    }
	
	//Replies
	function reply1() {
		document.getElementById("reply-text").innerHTML = scenarios[sc].reply1;
		document.getElementById("reply-text").style.display = "block";
		document.getElementById("ButtonFour").disabled = false;
		document.getElementById("ButtonTwo").disabled = true;
		document.getElementById("ButtonThree").disabled = true;
		score = score + scenarios[sc].score1;
		death = scenarios[sc].death1;
	}
	function reply2() {
		document.getElementById("reply-text").innerHTML = scenarios[sc].reply2;
		document.getElementById("reply-text").style.display = "block";
		document.getElementById("ButtonFour").disabled = false;
		document.getElementById("ButtonOne").disabled = true;
		document.getElementById("ButtonThree").disabled = true;
		score = score + scenarios[sc].score2;
		death = scenarios[sc].death2;
	}
	function reply3() {
		document.getElementById("reply-text").innerHTML = scenarios[sc].reply3;
		document.getElementById("reply-text").style.display = "block";
		document.getElementById("ButtonFour").disabled = false;
		document.getElementById("ButtonOne").disabled = true;
		document.getElementById("ButtonTwo").disabled = true;
		score = score + scenarios[sc].score3;
		death = scenarios[sc].death3;
	}
	
	//Next scenario
    function next_scenario(mult) {
		if(death == 2){
			window.history.back();
		}
        sc++;
		document.getElementById("reply-text").style.display = "none";
		document.getElementById("ButtonOne").disabled = false;
		document.getElementById("ButtonTwo").disabled = false;
		document.getElementById("ButtonThree").disabled = false;
		document.getElementById("ButtonFour").disabled = true;
        prev_answer = mult;
        text();
    }
</script>
</body>
</html>