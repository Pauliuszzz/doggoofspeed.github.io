<!DOCTYPE html>
<html lang='en'>
<head>
	<title>Project Passage - Story</title>
	<link rel='icon' type='image/png' href='../resources/Project_Passage.png'/>
	<meta name='theme-color' content='#C04848'>
	<meta charset='UTF-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1, minimum-scale=1'>
	<link rel='stylesheet' href='../css/StoryTheme.css' media='screen'>
	<style>
		body {
			background: linear-gradient(to bottom right, #C04848, #480048) fixed;
		}
	</style>
</head>
<body>
	<header>
		<div style='margin: 1em'>
			<h1 class='project'>Project</h1>
			<h1 class='passage'>Passage</h1>
		</div>
	</header>
	<div class='flexmain'>
		<div class='textdiv'>
			<p class='scenario acrylic' id='scenario-text'></p>
		</div>
		<div class='replydiv'>
			<p class='reply acrylic' id='reply-text'></p>
		</div>
		<div class='buttondiv'>
			<button id='ButtonOne' class='button acrylic' onClick='reply1()'></button>
			<button id='ButtonTwo' class='button acrylic' onClick='reply2()'></button>
			<button id='ButtonThree' class='button acrylic' onClick='reply3()'></button>
		</div>
	</div>
	<div class='card hidden acrylic' id='EndCard'>
		<h3>Mission 5 Completed</h3>
		<p id='M5'></p>
		<a href='../index.html' class='icon-only'><img src='../resources/home.svg' alt='Home'></a>
		<a href='./M5.html' class='icon-only'><img src='../resources/refresh.svg' alt='Refresh'></a>
	</div>
	<nav class='acrylic'>
		<button id='ButtonFour' class='button acrylic' style='margin: .5em' onClick='nextScenario()'>Continue</button>
	</nav>
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js' defer></script>
	<script src='../js/ScriptsStory.js' defer></script>
	<script src='Scenarios/M5Scenarios.js' async></script>
	<script>
		var endings = localStorage.getItem('M5-Endings');
		var failures = localStorage.getItem('M5-Failures');
		var quit = false;
		var count = 0;
	
	//Ending Counter
	function endingcounter(){
		switch (Object.keys(scenarios[count]).pop()) {
			case 'ending1':
				if (localStorage.getItem('M5-1') == null){
					endings++;
					localStorage.setItem('M5-1', 1);
				}
				break;
			case 'ending2':
				if (localStorage.getItem('M5-2') == null){
					endings++;
					localStorage.setItem('M5-2', 1);
				}
				break;
			case 'ending3':
				if (localStorage.getItem('M5-3') == null){
					endings++;
					localStorage.setItem('M5-3', 1);
				}
				break;
			case 'ending4':
				if (localStorage.getItem('M5-4') == null){
					endings++;
					localStorage.setItem('M5-4', 1);
				}
				break;
			case 'ending5':
				if (localStorage.getItem('M5-5') == null){
					endings++;
					localStorage.setItem('M5-5', 1);
				}
				break;
			case 'ending6':
				if (localStorage.getItem('M5-6') == null){
					endings++;
					localStorage.setItem('M5-6', 1);
				}
				break;
			case 'ending7':
				if (localStorage.getItem('M5-7') == null){
					endings++;
					localStorage.setItem('M5-7', 1);
				}
				break;
			case 'ending8':
				if (localStorage.getItem('M5-8') == null){
					endings++;
					localStorage.setItem('M5-8', 1);
				}
				break;
			case 'ending9':
				if (localStorage.getItem('M5-9') == null){
					endings++;
					localStorage.setItem('M5-9', 1);
				}
				break;
			case 'ending10':
				if (localStorage.getItem('M5-10') == null){
					endings++;
					localStorage.setItem('M5-10', 1);
				}
				break;
			case 'ending11':
				if (localStorage.getItem('M5-11') == null){
					endings++;
					localStorage.setItem('M5-11', 1);
				}
				break;
			case 'ending12':
				if (localStorage.getItem('M5-12') == null){
					endings++;
					localStorage.setItem('M5-12', 1);
				}
				break;
			//Failures
			case 'failure1':
				if (localStorage.getItem('M5-F1') == null){
					failures++;
					localStorage.setItem('M5-F1', 1);
				}
				break;
			case 'failure2':
				if (localStorage.getItem('M5-F2') == null){
					failures++;
					localStorage.setItem('M5-F2', 1);
				}
				break;
			case 'failure3':
				if (localStorage.getItem('M5-F3') == null){
					failures++;
					localStorage.setItem('M5-F3', 1);
				}
				break;
			case 'failure4':
				if (localStorage.getItem('M5-F4') == null){
					failures++;
					localStorage.setItem('M5-F4', 1);
				}
				break;
			case 'failure5':
				if (localStorage.getItem('M5-F5') == null){
					failures++;
					localStorage.setItem('M5-F5', 1);
				}
				break;
			case 'failure6':
				if (localStorage.getItem('M5-F6') == null){
					failures++;
					localStorage.setItem('M5-F6', 1);
				}
				break;
			case 'failure7':
				if (localStorage.getItem('M5-F7') == null){
					failures++;
					localStorage.setItem('M5-F7', 1);
				}
				break;
			case 'failure8':
				if (localStorage.getItem('M5-F8') == null){
					failures++;
					localStorage.setItem('M5-F8', 1);
				}
				break;
			case 'failure9':
				if (localStorage.getItem('M5-F9') == null){
					failures++;
					localStorage.setItem('M5-F9', 1);
				}
				break;
			case 'failure10':
				if (localStorage.getItem('M5-F10') == null){
					failures++;
					localStorage.setItem('M5-F10', 1);
				}
				break;
			case 'failure11':
				if (localStorage.getItem('M5-F11') == null){
					failures++;
					localStorage.setItem('M5-F11', 1);
				}
				break;
			case 'failure12':
				if (localStorage.getItem('M5-F12') == null){
					failures++;
					localStorage.setItem('M5-F12', 1);
				}
				break;
			case 'failure13':
				if (localStorage.getItem('M5-F13') == null){
					failures++;
					localStorage.setItem('M5-F13', 1);
				}
				break;
			case 'failure14':
				if (localStorage.getItem('M5-F14') == null){
					failures++;
					localStorage.setItem('M5-F14', 1);
				}
				break;
			case 'failure15':
				if (localStorage.getItem('M5-F15') == null){
					failures++;
					localStorage.setItem('M5-F15', 1);
				}
				break;
			case 'failure16':
				if (localStorage.getItem('M5-F16') == null){
					failures++;
					localStorage.setItem('M5-F16', 1);
				}
				break;
			case 'failure17':
				if (localStorage.getItem('M5-F17') == null){
					failures++;
					localStorage.setItem('M5-F17', 1);
				}
				break;
		}
		if (endings == null) {
			endings = 0;
		}
		if (failures == null) {
			failures = 0;
		}
		localStorage.setItem('M5-Endings', endings);
		localStorage.setItem('M5-Failures', failures);
		document.getElementById('M5').innerHTML = 'Endings achieved: ' + localStorage.getItem('M5-Endings') + '/12<br>Failures achieved: ' + localStorage.getItem('M5-Failures') + '/17';
		$('div#EndCard').removeClass('hidden');
	}
	</script>
</body>
</html>